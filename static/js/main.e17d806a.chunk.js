(this.webpackJsonpauto_flow=this.webpackJsonpauto_flow||[]).push([[0],{34:function(e,t,n){},48:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(10),i=n.n(o),s=(n(48),n(18)),r=n(19),l=n(28),d=n(27),j=n(6),b=(n(34),n(3)),u=n(15),h=n(4),O=n(22),x=n.n(O),f=n(35),m=n(11),p=n(36),g=n(9),y=n(2),v=n(31),N=n(59),w=n(60);function k(e){var t=1==e.typeTitle?"Th\xf4ng b\xe1o":"X\xe1c nh\u1eadn",n=2==e.type?"sao ch\xe9p":3==e.type?"k\xedch ho\u1ea1t":"x\xf3a";return Object(y.jsxs)(N.a,Object(b.a)(Object(b.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(y.jsx)(N.a.Header,{className:"model-header-confirm",children:Object(y.jsxs)(N.a.Title,{id:"contained-modal-title-vcenter title-confirm",children:[Object(y.jsx)(g.i,{}),Object(y.jsx)("span",{className:"title-confirm",children:t})]})}),Object(y.jsx)(N.a.Body,{children:Object(y.jsxs)("h6",{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n ",n," h\xe0nh \u0111\u1ed9ng n\xe0y?"]})}),Object(y.jsxs)(N.a.Footer,{children:[Object(y.jsx)(w.a,{onClick:e.onOk,children:"\u0110\u1ed3ng \xfd"}),Object(y.jsx)(w.a,{className:"btn-danger",onClick:e.onCancel,children:"H\u1ee7y b\u1ecf"})]})]}))}function C(e){1==e.type||e.type;for(var t=["https://thanhbach0797.github.io/autoFlowTest","https://thanhbach0797.github.io/autoFlowTest","https://thanhbach0797.github.io/autoFlowTest","https://thanhbach0797.github.io/autoFlowTest"],n=[],a=0;a<t.length;a++)n.push(Object(y.jsx)("span",{className:"indent"},a));var o=Object(c.useState)(!1),i=Object(h.a)(o,2),s=i[0],r=i[1];return Object(c.useEffect)((function(){r(!1)}),[]),Object(y.jsxs)(N.a,Object(b.a)(Object(b.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"modal-success",children:[Object(y.jsxs)(N.a.Header,{className:"modal-header-success",children:[Object(y.jsx)("div",{children:Object(y.jsx)("button",{type:"button",className:"btn-close success","aria-label":"Close",onClick:e.onCancel})}),Object(y.jsx)(N.a.Title,{id:"contained-modal-title-vcenter",className:"modal-header-success-icon",children:Object(y.jsx)(g.d,{className:"icon-sucess"})})]}),Object(y.jsxs)(N.a.Body,{className:"modal-body-success",children:[Object(y.jsx)("p",{children:"B\u1ea1n \u0111\xe3 x\xf3a th\xe0nh c\xf4ng h\xe0nh \u0111\u1ed9ng n\xe0y."}),Object(y.jsx)("p",{children:"Vi\u1ec7c x\xf3a h\xe0nh \u0111\u1ed9ng s\u1ebd ng\u1eebng ch\u1ea1y c\xe1c li\xean h\u1ec7 \u0111ang ch\u1edd k\xedch ho\u1ea1t thao t\xe1c n\xe0y."}),s?Object(y.jsxs)("div",{className:"showMore_model-success",children:[t.map((function(e,t){return Object(y.jsx)("div",{children:Object(y.jsx)("a",{target:"_blank",href:e,children:e},t)})})),"[",Object(y.jsx)("a",{href:"#",onClick:function(e){return r(!1)},children:" Thu g\u1ecdn "}),"]"]}):Object(y.jsxs)("p",{children:["[",Object(y.jsx)("a",{href:"#",onClick:function(e){return r(!0)},children:" Xem chi ti\u1ebft li\xean h\u1ec7 \u1edf \u0111\xe2y "}),"]"]})]})]}))}function S(e){return Object(y.jsxs)(N.a,Object(b.a)(Object(b.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"modal-success",children:[Object(y.jsxs)(N.a.Header,{className:"modal-header-success",children:[Object(y.jsx)("div",{children:Object(y.jsx)("button",{type:"button",className:"btn-close success","aria-label":"Close",onClick:e.onCancel})}),Object(y.jsx)(N.a.Title,{id:"contained-modal-title-vcenter",className:"modal-header-success-icon",children:Object(y.jsx)(g.l,{className:"icon-error"})})]}),Object(y.jsx)(N.a.Body,{className:"modal-body-success",children:Object(y.jsx)("p",{children:"B\u1ea1n kh\xf4ng th\u1ec3 k\xedch ho\u1ea1t th\xe0nh c\xf4ng h\xe0nh \u0111\u1ed9ng n\xe0y."})})]}))}var T,_=n(5),A={nodeAddTrigger:function(e){var t=e.data,n=(e.selected,Object(c.useState)("")),a=Object(h.a)(n,2),o=a[0],i=a[1],s={backgroundColor:"#fafafa",textAlign:"center",padding:20,borderRadius:5,width:"200px",height:"100px",boxShadow:"2px 2px rgb(143 206 219)",outline:o};return Object(y.jsxs)("div",{style:s,onMouseEnter:function(){i("1px solid rgb(143 206 219)")},onMouseLeave:function(){i("")},children:[Object(y.jsx)(j.c,{type:"target",position:"top"}),Object(y.jsxs)("div",{className:"btn",style:{height:"100%",width:"100%",backgroundColor:"inherit",border:"dashed 1px #afafaf",display:"flex",flexDirection:"column",justifyContent:"center"},onClick:function(e){return t.onAddNode(t.id)},children:[Object(y.jsx)("div",{style:{color:"#afafaf"},children:"H\xe0nh \u0111\u1ed9ng"}),Object(y.jsx)("div",{style:{color:"#656565"},children:"+Th\xeam h\xe0nh \u0111\u1ed9ng"})]}),Object(y.jsx)(j.c,{type:"source",position:"bottom"})]})},customNode:function(e){var t,n=e.data,a=(e.selected,Object(c.useState)(!1)),o=Object(h.a)(a,2),i=o[0],s=o[1],r=Object(c.useState)(!1),l=Object(h.a)(r,2),d=l[0],b=l[1],u=Object(c.useState)("node-border"),O=Object(h.a)(u,2),x=O[0],f=(O[1],Object(c.useState)("node-border-sub")),v=Object(h.a)(f,2),N=v[0],w=v[1],k=Object(c.useState)("node-body3-see-more"),C=Object(h.a)(k,2),S=C[0],T=(C[1],Object(c.useState)(0)),_=Object(h.a)(T,2),A=(_[0],_[1]),I={opacity:1,color:"white",textDecoration:i?"underLine":"unset"},B=1==n.typeIcon?Object(y.jsx)(p.a,{}):2==n.typeIcon?Object(y.jsx)(g.g,{}):3==n.typeIcon?Object(y.jsx)(g.k,{}):4==n.typeIcon?Object(y.jsx)(g.a,{}):5==n.typeIcon?Object(y.jsx)(g.b,{}):6==n.typeIcon?Object(y.jsx)(g.g,{}):Object(y.jsx)(g.f,{});return Object(y.jsx)("div",{onMouseEnter:function(){s(!0),w("node-border-sub-hover"),A(1)},onMouseLeave:function(){s(!1),b(!1),w("node-border-sub"),A(0)},className:x,children:Object(y.jsxs)("div",{className:N,children:[Object(y.jsx)(j.c,{type:"target",position:"top"}),Object(y.jsxs)("div",{className:"node-header",children:[Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center",color:"white"},children:[Object(y.jsx)("div",{className:"header-icon",children:B}),Object(y.jsx)("span",{style:{marginLeft:"5px"},children:"Gi\u1ea3m gi\xe1 cho kh\xe1ch h\xe0ng quan t\xe2m"})]}),Object(y.jsx)("div",{children:Object(y.jsx)("div",{onClick:function(){return b(!0)},style:I,children:Object(y.jsx)("span",{children:"Actions"})})})]}),d?Object(y.jsxs)("div",{className:"actions",children:[Object(y.jsxs)("a",{className:"dropdown-item",onClick:function(e){return n.onClick(n.id,1)},href:"#",children:[Object(y.jsx)(g.h,{})," Ch\u1ec9nh s\u1eeda h\xe0nh \u0111\u1ed9ng"]}),Object(y.jsxs)("a",{className:"dropdown-item",onClick:function(e){return n.onClick(n.id,2)},href:"#",children:[Object(y.jsx)(g.e,{})," Sao ch\xe9p h\xe0nh \u0111\u1ed9ng"]}),Object(y.jsxs)("a",{className:"dropdown-item",onClick:function(e){return n.onClick(n.id,3)},href:"#",children:[Object(y.jsx)(g.c,{})," K\xedchh ho\u1ea1t h\xe0nh \u0111\u1ed9ng"]}),Object(y.jsx)("div",{className:"dropdown-divider",style:{width:"100%"}}),Object(y.jsxs)("a",{className:"dropdown-item",onClick:function(e){return n.onClick(n.id,4)},href:"#",children:[Object(y.jsx)(g.j,{})," X\xf3a h\xe0nh \u0111\u1ed9ng"]})]}):null,Object(y.jsx)("div",{className:"node-body",children:Object(y.jsx)("div",{className:"node-body2",children:Object(y.jsx)("div",(t={className:"node-body3"},Object(m.a)(t,"className",S),Object(m.a)(t,"children",Object(y.jsx)("div",{className:"node-body4",children:Object(y.jsxs)("div",{className:"node-body5",children:[Object(y.jsxs)("p",{className:"action",children:[Object(y.jsx)("span",{children:"M\u1ed9t chi\u1ebfn d\u1ecbch email"}),Object(y.jsx)("strong",{children:' "T\xean_chi\u1ebfn_d\u1ecbch_email" '}),Object(y.jsx)("span",{children:" \u0110\xe3 m\u1edf "}),Object(y.jsx)("strong",{children:" [Link_xem_n\u1ed9i_dung_chi\u1ebfn d\u1ecbch]"})]}),Object(y.jsx)("p",{className:"action",children:Object(y.jsx)("span",{children:"Th\u1ef1c hi\u1ec7n sau 1 gi\u1edd"})})]})})),t))})}),Object(y.jsx)(j.c,{type:"source",position:"bottom"})]})})}},I=function(e,t){T=t.data.id},B=function(){var e=Object(j.i)(),t=Object(j.j)(),n=(t.zoomIn,t.zoomOut,t.setCenter),o=function(t,c,a){var o=e.getState().nodes;if(o.length){var i=o[o.length-1],s=i.__rf.position.x+i.__rf.width/2-t,r=i.__rf.position.y+i.__rf.height/2-c;n(s,r,a)}},i=Object(_.f)();document.title="Zetamail - AutoFlow - Test";var s=function(e,t){switch(t){case 1:break;case 2:case 3:case 4:ee(t),D(!0)}},r=function(){var e=Object(f.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T==t?T="":(n={},c=Math.floor(7*Math.random())+1,n.typeIcon=c,{x:0,y:400},ie(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=[{id:"0",type:"nodeAddTrigger",data:{onAddNode:r,label:"CustomNode",id:"0",showAction:!1},position:{x:100,y:100}}],d=Object(c.useState)(null),O=Object(h.a)(d,2),m=(O[0],O[1]),p=Object(c.useState)(l),g=Object(h.a)(p,2),N=(g[0],g[1]),w=a.a.useState(""),B=Object(h.a)(w,2),M=B[0],z=B[1],F=a.a.useState(!1),L=Object(h.a)(F,2),H=L[0],R=L[1],E=a.a.useState(!1),Z=Object(h.a)(E,2),W=Z[0],D=Z[1],X=a.a.useState(!1),G=Object(h.a)(X,2),J=G[0],P=G[1],q=a.a.useState(!1),K=Object(h.a)(q,2),V=K[0],Y=K[1],$=a.a.useState(0),Q=Object(h.a)($,2),U=Q[0],ee=Q[1],te=Object(c.useRef)(0),ne=Object(c.useState)([{}]),ce=Object(h.a)(ne,2),ae=ce[0],oe=ce[1];Object(c.useEffect)((function(){var e=ae.filter((function(e){return Object(j.g)(e)}));e.length>=3&&7==e[e.length-3].data.typeIcon?o(200,200,.8):e.length>1?o(-200,200,.8):o(-100,-100,1.5)}),[ae]),Object(c.useEffect)((function(){oe(l)}),[]);Object(c.useCallback)((function(){oe((function(e){return[].concat(Object(u.a)(e),[{id:e.length+"",type:"customNode",data:{onClick:s,label:"CustomNode",id:e.length+"",showAction:!1,typeIcon:2},position:{x:100,y:te.current}}])}))}),[]),Object(c.useCallback)((function(e,t){oe((function(n){return n.map((function(n){return n.id==e&&(n.data=Object(b.a)(Object(b.a)({},n.data),{},{isHover:t})),n}))}))}),[]);var ie=Object(c.useCallback)((function(e,t){oe((function(n){return n.map((function(n){return n.id==e&&(n.type="customNode",n.data=Object(b.a)(Object(b.a)({},n.data),{},{onClick:s,typeIcon:t.typeIcon}),n.position={x:n.position.x-100,y:n.position.y}),n}))})),7!=t.typeIcon?(oe((function(t){var n=t.filter((function(t){return t.id===e})),c=t.filter((function(e){return Object(j.g)(e)})).length;return[].concat(Object(u.a)(t),[{id:c+"",type:"nodeAddTrigger",data:{onAddNode:r,label:"CustomNode",id:c+"",showAction:!1},position:{x:n[0].position.x+100,y:n[0].position.y+500}}])})),oe((function(t){var n=t.filter((function(e){return Object(j.g)(e)}));return re(e,n[n.length-1].id+""),t}))):(oe((function(t){var n=t.filter((function(t){return t.id===e})),c=t.filter((function(e){return Object(j.g)(e)})).length;return[].concat(Object(u.a)(t),[{id:c+"",type:"nodeAddTrigger",data:{onAddNode:r,label:"CustomNodeFalse",id:c+"",showAction:!1},position:{x:n[0].position.x-300,y:n[0].position.y+500}},{id:c+1+"",type:"nodeAddTrigger",data:{onAddNode:r,label:"CustomNodeTrue",id:c+1+"",showAction:!1},position:{x:n[0].position.x+500,y:n[0].position.y+500}}])})),oe((function(t){var n=t.filter((function(e){return Object(j.g)(e)}));return de(e,n[n.length-2].id+""),le(e,n[n.length-1].id+""),t})))}),[]),se=(Object(c.useCallback)((function(e){oe((function(e){return e.map((function(e){return(e.id="2")?e.id="1":e.id="2",e.data=Object(b.a)(Object(b.a)({},e.data),{},{label:"CustomNodebach"+Math.floor(2*Math.random()),showAction:!!Math.floor(2*Math.random())}),e}))}))}),[]),Object(c.useCallback)((function(e,t){oe((function(n){return n.map((function(n){return n.id==e&&(n.data=Object(b.a)(Object(b.a)({},n.data),{},{showAction:t})),n}))}))}),[]),Object(c.useCallback)((function(e){var t=e.source,n=e.target;oe((function(e){return[].concat(Object(u.a)(e),[{id:Number(e[e.length-1].id)+1+"",source:t,target:n}])}))}),[])),re=function(e,t){oe((function(n){return[].concat(Object(u.a)(n),[{id:"edgde"+Number(n[n.length-1].id),type:"smoothstep",arrowHeadType:"arrow",source:e,target:t}])}))},le=function(e,t){oe((function(n){return[].concat(Object(u.a)(n),[{id:"edge"+e+"-"+t,type:"smoothstep",data:{text:"custom edge"},label:"Yes branch",labelStyle:{fill:"#1fa792",fontWeight:700,fontSize:18},labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#83ddd2"},arrowHeadType:"arrow",source:e,target:t}])}))},de=function(e,t){oe((function(n){return[].concat(Object(u.a)(n),[{id:"edge"+e+"-"+t,type:"smoothstep",data:{text:"custom edge"},label:"No branch",labelStyle:{fill:"#d8545b",fontWeight:700,fontSize:18},labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#f6abae"},arrowHeadType:"arrow",source:e,target:t}])}))};return Object(y.jsxs)(j.f,{elements:ae,onLoad:function(e){return m(e)},onElementsRemove:function(e){return N((function(t){return Object(j.h)(e,t)}))},onNodeDragStop:I,onConnect:function(e){return N((function(t){se(e,t)}))},className:"react-flow-basic-example",defaultZoom:.5,minZoom:.2,maxZoom:4,nodeTypes:A,children:[Object(y.jsx)(j.a,{}),Object(y.jsxs)("div",{style:{position:"absolute",left:10,top:10,zIndex:4,background:"white"},children:[Object(y.jsx)(v.b,{style:{fontSize:"24px"},onClick:function(){i("/")}}),H?Object(y.jsx)("input",{style:{marginLeft:"5px"},value:M,type:"text",placeholder:"FlowName",onChange:function(e){return z(e.target.value)}}):Object(y.jsx)("span",{style:{marginLeft:"5px"},children:M}),Object(y.jsx)(v.a,{style:{fontSize:"24px",marginLeft:"5px"},onClick:function(e){return R(!H)}})]}),Object(y.jsxs)("div",{style:{position:"absolute",right:10,top:10,zIndex:4},children:[Object(y.jsx)("button",{className:"btn btn-primary",style:{marginRight:"5px"},onClick:function(){return D(!0)},children:"confirm"}),Object(y.jsx)("button",{className:"btn btn-primary",style:{marginRight:"5px"},onClick:function(){return P(!0)},children:"success"}),Object(y.jsx)("button",{className:"btn btn-primary",style:{marginRight:"5px"},onClick:function(){return Y(!0)},children:"error"}),Object(y.jsx)("button",{className:"btn btn-outline-primary",style:{marginRight:"5px"},onClick:function(){return D(!0)},children:"L\u01b0u"}),Object(y.jsx)("button",{className:"btn btn-primary",style:{width:"100px"},onClick:o,children:"L\u01b0u v\xe0 b\u1eaft \u0111\u1ea7u"})]}),Object(y.jsx)(k,{show:W,onCancel:function(){return D(!1)},onOk:function(){D(!1),P(!0)},type:U}),Object(y.jsx)(C,{show:J,onCancel:function(){return P(!1)}}),Object(y.jsx)(S,{show:V,onCancel:function(){return Y(!1)}}),Object(y.jsx)(j.d,{}),Object(y.jsx)(j.b,{})]})},M=n(41),z=Object(M.a)((function(){return{token:"6b2dd421bc760e973e154f301cf2b5b404e195ba"}})),F=n(26),L=function(){var e=Object(F.b)((function(e){return e.token}));return fetch("https://app.zetamail.vn/api/autoflow/getall?token="+e+"&p=1&limit=50",{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e)})),document.title="Zetamail - Home",Object(y.jsx)("div",{className:"table-responsive",children:Object(y.jsxs)("table",{className:"table no-wrap user-table mb-0",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",className:"border-0 text-uppercase font-medium pl-4",children:"#"}),Object(y.jsx)("th",{scope:"col",className:"border-0 text-uppercase font-medium",children:"T\xean"}),Object(y.jsx)("th",{scope:"col",className:"border-0 text-uppercase font-medium",children:"M\xf4 t\u1ea3"})]})}),Object(y.jsx)("tbody",{children:[{id:"61a8cb451bdce65d6d23b7aa",user_id:"17574",title:"Flow_Test",status:"2",description:"description of auto flowdas",list:"",segment:"",created_at:"2021-12-02 20:33:57",updated_at:"2021-12-02 20:36:38"}].map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"pl-4",children:t}),Object(y.jsx)("td",{children:Object(y.jsx)("a",{href:"/AutoFlow?node-id="+e.id,children:e.title})}),Object(y.jsx)("td",{children:Object(y.jsx)("span",{className:"text-muted",children:e.description})})]},t)}))})]})})},H=n(30),R=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(y.jsx)(j.e,{children:Object(y.jsx)(H.a,{basename:"",children:Object(y.jsxs)(_.c,{children:[Object(y.jsx)(_.a,{exact:!0,path:"/",element:Object(y.jsx)(L,{})}),Object(y.jsx)(_.a,{exact:!0,path:"/AutoFlow",element:Object(y.jsx)(B,{})})]})})})}}]),n}(c.Component),E=R;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(56);i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(F.a,{store:z,children:Object(y.jsx)(E,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.e17d806a.chunk.js.map